{"remainingRequest":"/var/www/work/foliovue/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/work/foliovue/src/components/Contact.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/work/foliovue/src/components/Contact.vue","mtime":1560334536032},{"path":"/var/www/work/foliovue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/work/foliovue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/work/foliovue/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/var/www/work/foliovue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/work/foliovue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nconst axios = require('axios');\nconst qs = require('qs');\n\nexport default {\n\n    $_veeValidate: {\n        validator: 'new'\n    },\n\n    data() {\n        return {\n            name: '',\n            firstname: '',\n            email: '',\n            commentaire: '',\n            dialog: false,\n            modalsend:false,\n            modalerror: false,\n\n            dictionary: {\n                attributes: {\n                    email: 'E-mail Adresse',\n                    // custom attributes\n                },\n                custom: {\n                    name: {\n                        required: () => 'Merci de renseigner un Nom',\n                    },\n                    firstname: {\n                        required: () => 'Merci de renseigner un Prénom',\n                    },\n                    email: {\n                        required: () => 'Merci de renseigner une Adresse mail',\n                    },\n                }\n            }\n        }\n    },\n\n    mounted() {\n        {\n            this.$validator.localize('fr', this.dictionary)\n        }\n\n    },\n\n    methods: {\n        submitForm() {\n            this.$validator.validateAll().then(result=> {\n                if(result){\n                const options = {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded',\n                        \"Access-Control-Allow-Origin\": \"*\"\n                    },\n                    data: qs.stringify( {\n                        name           : this.name,\n                        firstname      : this.firstname,\n                        email          : this.email,\n                        commentaire    : this.commentaire\n                    }),\n                    url:\"http://127.0.0.1:8000/api/v1/contacts\"\n                };\n                axios(options)\n\n                this.modalsend = true\n                return;\n            }\n                this.modalerror = true;\n            })\n        },\n\n        clear () {\n            this.name           = ''\n            this.firstname      = ''\n            this.email          = ''\n            this.commentaire   = ''\n            this.$validator.reset()\n        },\n\n        clearSend (){\n            this.dialog = false\n            this.name           = ''\n            this.firstname      = ''\n            this.email          = ''\n            this.commentaire   = ''\n            this.$validator.reset()\n            this.modalsend = false\n        }\n    }\n}\n",{"version":3,"sources":["Contact.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Contact.vue","sourceRoot":"src/components","sourcesContent":["<template  xmlns:v-slot=\"http://www.w3.org/1999/XSL/Transform\">\n    <div id=\"contact\">\n        <v-container >\n            <h3 data-aos=\"fade-right\"\n                data-aos-duration=\"1500\"\n                class=\"font-weight-thin\"\n            >\n                Contact\n            </h3>\n\n            <form\n                    @submit.prevent=\"submitForm\"\n                    class=\"font-weight-light\"\n            >\n                <v-text-field\n                        v-model=\"name\"\n                        v-validate=\"'required'\"\n                        :error-messages=\"errors.collect('name')\"\n                        box\n                        label=\"Nom\"\n                        data-vv-name=\"name\"\n                        color=\"#705465\"\n                        class=\"field\"\n                ></v-text-field>\n\n                <v-text-field\n                        :error-messages=\"errors.collect('firstname')\"\n                        box\n                        color=\"#705465\"\n                        data-vv-name=\"firstname\"\n                        label=\"Prénom\"\n                        v-model=\"firstname\"\n                        v-validate=\"'required'\"\n                        class=\"field\"\n                ></v-text-field>\n\n                <v-text-field\n                        :error-messages=\"errors.collect('email')\"\n                        box\n                        color=\"#705465\"\n                        data-vv-name=\"email\"\n                        label=\"E-mail\"\n                        v-model=\"email\"\n                        v-validate=\"'required|email'\"\n                        class=\"field\"\n                ></v-text-field>\n\n                <v-textarea\n                        auto-grow\n                        box\n                        color=\"#705465\"\n                        data-vv-name=\"commentaire\"\n                        label=\"Commentaires\"\n                        rows=\"1\"\n                        v-model=\"commentaire\"\n                        class=\"field\"\n                ></v-textarea>\n\n                <v-dialog\n                        v-model=\"dialog\"\n                        width=\"500\"\n                >\n                    <template v-slot:activator=\"{ on }\">\n                        <v-btn\n                                color=\"#705465\"\n                                dark\n                                type=\"submit\"\n                                v-on=\"on\"\n                        >\n                            Envoyer\n                        </v-btn>\n                    </template>\n\n                    <v-card v-if=\"modalsend\">\n                        <v-card-text>\n                            Envoyé!\n                        </v-card-text>\n\n                        <v-divider></v-divider>\n\n                        <v-card-actions>\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                    @click=\"clearSend\"\n                                    color=\"#705465\"\n                                    flat\n                            >\n                                FERMER\n                            </v-btn>\n                        </v-card-actions>\n                    </v-card>\n\n                    <v-card v-else-if=\"modalerror\">\n                        <v-card-text>\n                            Merci de renseigner le formulaire.\n                        </v-card-text>\n\n                        <v-divider></v-divider>\n\n                        <v-card-actions>\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                    @click=\"dialog = false\"\n                                    color=\"#705465\"\n                                    flat\n                            >\n                                FERMER\n                            </v-btn>\n                        </v-card-actions>\n                    </v-card>\n\n                </v-dialog>\n\n                <v-btn\n                        @click=\"clear\"\n                        dark\n                        color=\"#705465\"\n                >\n                    Réinitialiser\n                </v-btn>\n            </form>\n        </v-container>\n    </div>\n</template>\n\n<script>\n\n    const axios = require('axios');\n    const qs = require('qs');\n\n    export default {\n\n        $_veeValidate: {\n            validator: 'new'\n        },\n\n        data() {\n            return {\n                name: '',\n                firstname: '',\n                email: '',\n                commentaire: '',\n                dialog: false,\n                modalsend:false,\n                modalerror: false,\n\n                dictionary: {\n                    attributes: {\n                        email: 'E-mail Adresse',\n                        // custom attributes\n                    },\n                    custom: {\n                        name: {\n                            required: () => 'Merci de renseigner un Nom',\n                        },\n                        firstname: {\n                            required: () => 'Merci de renseigner un Prénom',\n                        },\n                        email: {\n                            required: () => 'Merci de renseigner une Adresse mail',\n                        },\n                    }\n                }\n            }\n        },\n\n        mounted() {\n            {\n                this.$validator.localize('fr', this.dictionary)\n            }\n\n        },\n\n        methods: {\n            submitForm() {\n                this.$validator.validateAll().then(result=> {\n                    if(result){\n                    const options = {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/x-www-form-urlencoded',\n                            \"Access-Control-Allow-Origin\": \"*\"\n                        },\n                        data: qs.stringify( {\n                            name           : this.name,\n                            firstname      : this.firstname,\n                            email          : this.email,\n                            commentaire    : this.commentaire\n                        }),\n                        url:\"http://127.0.0.1:8000/api/v1/contacts\"\n                    };\n                    axios(options)\n\n                    this.modalsend = true\n                    return;\n                }\n                    this.modalerror = true;\n                })\n            },\n\n            clear () {\n                this.name           = ''\n                this.firstname      = ''\n                this.email          = ''\n                this.commentaire   = ''\n                this.$validator.reset()\n            },\n\n            clearSend (){\n                this.dialog = false\n                this.name           = ''\n                this.firstname      = ''\n                this.email          = ''\n                this.commentaire   = ''\n                this.$validator.reset()\n                this.modalsend = false\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    h3{\n        font-size: 70px;\n        color: #705465;\n        padding: 90px 0;\n    }\n    #contact{\n        font-family: Roboto, sans-serif;\n    }\n    .field{\n        font-size: 25px;\n    }\n    .error--text{\n        color:red !important;\n    }\n    @media(max-width: 960px) {\n        h3 {\n            font-size: 50px;\n        }\n    }\n\n\n</style>"]}]}